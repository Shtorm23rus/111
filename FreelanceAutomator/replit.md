# Freelance AI Assistant

## О проекте

Автоматизированная система для поиска и выполнения простых заданий на фриланс-платформах с использованием Anthropic Claude AI.

## Текущее состояние (MVP)

### Реализованные возможности

✅ **Парсинг заданий с Upwork**
- RSS feed парсер для автоматического сбора заданий
- Поддержка категорий: reviews, comments, feedback, writing

✅ **Умная фильтрация**
- Фильтр по сложности (easy/medium/hard)
- Фильтр по категориям
- Фильтр по цене (мин/макс бюджет)

✅ **Генерация контента с Anthropic Claude**
- Генератор отзывов (ReviewGenerator)
- Генератор комментариев (CommentGenerator)
- Генератор постов (PostGenerator)
- **НОВОЕ:** Генератор предложений (ProposalGenerator) - создание профессиональных cover letters для заданий
- Настраиваемые промпты для разных типов контента

✅ **Веб-интерфейс (Dashboard)**
- Просмотр всех найденных заданий
- Статистика (всего/в очереди/выполнено/ошибки)
- Ручной запуск сбора заданий
- Ручная генерация контента для заданий
- Просмотр сгенерированного контента
- **НОВОЕ:** Страницы для управления предложениями и настройками

✅ **База данных SQLite**
- Таблица заданий (jobs)
- Таблица сгенерированного контента (generated_content)
- **НОВОЕ:** Таблица предложений (proposals) с отслеживанием статуса отправки
- **НОВОЕ:** Таблица настроек пользователя (user_settings)
- Автоматическое отслеживание статусов

✅ **Автоматический планировщик**
- Сбор новых заданий каждые 30 минут
- Генерация контента каждые 10 минут
- APScheduler для фоновых задач

## Архитектура проекта

```
app/
├── core/          # Конфигурация и константы
├── platforms/     # Интеграции с платформами (Upwork)
├── ai/            # Модуль работы с AI (Anthropic)
├── database/      # Модели и CRUD операции
├── tasks/         # Фоновые задачи и планировщик
├── filters/       # Фильтры для заданий
├── utils/         # Вспомогательные утилиты
└── web/           # Flask веб-интерфейс
```

## Переменные окружения

**Обязательные:**
- `ANTHROPIC_API_KEY` - API ключ Anthropic для генерации контента

**Опциональные:**
- `SCHEDULER_INTERVAL_MINUTES` - Интервал сбора заданий (по умолчанию: 30)
- `MIN_JOB_PRICE` - Минимальная цена задания (по умолчанию: 10)
- `MAX_JOB_PRICE` - Максимальная цена задания (по умолчанию: 500)
- `TARGET_CATEGORIES` - Целевые категории через запятую

## Быстрый старт

1. Добавьте `ANTHROPIC_API_KEY` в переменные окружения
2. Запустите приложение (workflow автоматически стартует)
3. Откройте веб-интерфейс на порту 5000
4. Нажмите "Собрать задания" для первого запуска

## API Endpoints

### Основные страницы
- `GET /` - Главная страница (Dashboard)
- `GET /proposals` - Страница управления предложениями
- `GET /settings` - Страница настроек

### API для заданий
- `GET /api/jobs` - Список всех заданий
- `GET /api/jobs?status=pending` - Задания с определенным статусом
- `GET /api/jobs/<job_id>` - Детальная информация о задании
- `GET /api/jobs/<job_id>/content` - Сгенерированный контент
- `POST /api/scrape` - Запустить сбор заданий вручную
- `POST /api/generate/<job_id>` - Сгенерировать контент для задания
- `GET /api/stats` - Статистика по заданиям

### API для предложений (proposals)
- `GET /api/proposals/<job_id>` - Получить все предложения для задания
- `POST /api/proposals/<job_id>` - Сгенерировать новое предложение
  - Параметры: `type` (standard/short) в JSON body

## Планы развития (Next Phase)

- [ ] Поддержка FL.ru и Kwork платформ
- [ ] Автоматическая отправка выполненных заданий
- [ ] Система прокси и ротация IP-адресов
- [ ] Решение капчи
- [ ] ML-модель для оценки сложности заданий
- [ ] Управление несколькими аккаунтами

## Важные замечания

⚠️ **Безопасность:** Используйте систему ответственно и в соответствии с правилами фриланс-платформ. Автоматизация может нарушать Terms of Service некоторых платформ.

⚠️ **API Ключи:** Никогда не коммитьте API ключи в репозиторий. Используйте переменные окружения.

## Технологический стек

- **Backend:** Python 3.11, Flask 3.0
- **AI:** Anthropic Claude 3.5 Sonnet
- **Database:** PostgreSQL (Replit Neon)
- **Web Scraping:** BeautifulSoup4, Feedparser, Trafilatura
- **Task Scheduling:** APScheduler
- **ORM:** SQLAlchemy 2.0

## Последнее обновление

Дата: 9 ноября 2025
Версия: MVP 1.1

### Изменения в версии 1.1:
- ✅ Добавлена генерация предложений (proposals) для фриланс-заданий
- ✅ Расширена база данных: новые таблицы proposals и user_settings
- ✅ Добавлены CRUD операции для proposals и настроек
- ✅ Улучшена обработка AI-ответов с Anthropic Claude
- ✅ Добавлены новые API endpoints для proposals
- ✅ Настроен workflow для автоматического запуска на порту 5000
